<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="HamStudyX.MainPage"
             BackgroundColor="{StaticResource PrimaryBackgroundColor}"
             Title="HamStudyX">
    <ScrollView>
        <Grid Padding="20" RowSpacing="20" ColumnSpacing="10">
            <!-- Define Rows -->
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <!-- Welcome Label -->
                <RowDefinition Height="Auto" />
                <!-- Picker -->
                <RowDefinition Height="Auto" />
                <!-- Load Quiz Button -->
                <RowDefinition Height="Auto" />
                <!-- Question Label -->
                <RowDefinition Height="*" />
                <!-- Options Stack -->
                <RowDefinition Height="Auto" />
                <!-- Feedback Label -->
                <RowDefinition Height="Auto" />
                <!-- User Answer Entry -->
                <RowDefinition Height="Auto" />
                <!-- Next Button -->
            </Grid.RowDefinitions>

            <!-- Define Columns -->
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- 1. Welcome & Topic Selection -->
            <Label Text="Welcome to HamStudyX!"
                   FontSize="22" 
                   FontAttributes="Bold" 
                   Grid.Row="0" Grid.Column="0" />

            <Picker x:Name="topicPicker"
                    Title="Choose a topic:" 
                    Grid.Row="1" Grid.Column="0" />

            <!-- 2. Button to load the selected topic -->
            <Button Text="Load Quiz"
                    Style="{StaticResource AccentButtonStyle}"
                    Clicked="OnLoadQuizClicked" 
                    Grid.Row="2" Grid.Column="0" />

            <!-- 3. Label for displaying the current question prompt -->
            <Label x:Name="questionLabel"
                   TextColor="{StaticResource PrimaryTextColor}"
                   FontSize="25"
                   FontAttributes="Bold"
                   HorizontalOptions="CenterAndExpand" 
                   Grid.Row="3" Grid.Column="0" />
            
            <!-- 4. Label for displaying the Current Score -->
            <Label x:Name="scoreLabel"
                   Text="Score: 0"
                   TextColor="{StaticResource PrimaryTextColor}"
                   FontSize="20"
                   FontAttributes="Bold"
                   HorizontalOptions="End" 
                   Grid.Row="4" Grid.Column="1" />

            <!-- 5. A stack where we add multiple-choice Buttons dynamically -->
            <VerticalStackLayout x:Name="optionsStack"
                                 Spacing="10" 
                                 Grid.Row="5" Grid.Column="0" />

            <!-- 6. Label for displaying feedback to the user -->
            <Label x:Name="feedbackLabel"
                   Text=""
                   FontSize="38"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   IsVisible="False" 
                   Grid.Row="6" Grid.Column="0" />

            <!-- 7. Entry for typed answers if it's NOT multiple-choice -->
            <Entry x:Name="userAnswerEntry"
                   Placeholder="Type your answer here"
                   IsVisible="False" 
                   Grid.Row="7" Grid.Column="0" />

            <!-- 8. Next Button to move to the next question -->
            <Button x:Name="nextButton"
                    Text="Check Answer"
                    Style="{StaticResource AccentButtonStyle}"
                    Clicked="OnNextClicked"
                    IsVisible="False" 
                    Grid.Row="8" Grid.Column="0" />

        </Grid>
    </ScrollView>
</ContentPage>
